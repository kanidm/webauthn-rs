[package]
name = "webauthn-rs-demo"
version = "0.1.0"
authors = ["William Brown <william@blackhats.net.au>"]
edition = "2021"
rust-version = "1.70.0"
build = "build.rs"

description = "Webauthn Demonstration Server"
repository = "https://github.com/kanidm/webauthn-rs"
readme = "README.md"
license = "MPL-2.0"

[features]
# TLS support is disabled by default due rustls depending on ring 0.16, which
# doesn't build on aarch64-pc-windows-msvc and lots of cross-compiling problems:
# https://github.com/rustls/rustls/issues/1103
tls = ["dep:tide-rustls", "dep:rustls"]

[dependencies]
webauthn-rs-demo-shared = { path = "../webauthn-rs-demo-shared", features = ["core"] }
webauthn-rs-core.workspace = true
webauthn-rs = { workspace = true, features = ["resident-key-support", "preview-features", "danger-allow-state-serialisation"] }
webauthn-rs-device-catalog.workspace = true

tide.workspace = true
tide-rustls = { version = "0.3", optional = true }
async-std.workspace = true
openssl.workspace = true
structopt = { version = "0.3", default-features = false }
rustls = { version = "0.19.0", optional = true }
tracing.workspace = true
tracing-subscriber.workspace = true
rand.workspace = true
url = { workspace = true , features = ["serde"] }

serde.workspace = true
